<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ecommerce Equation</title>
    <link id="themeStylesheet" rel="stylesheet" href="stylelight.css" />
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="logo-wrap">
                <div class="logo">Ecommerce Equation</div>
                <span class="version">V1.3.0</span>
            </div>

            <nav class="menu-group">
                <button id="startBtn" class="nav-btn primary">‚ñ∂ Start Bot</button>
                <button id="stopBtn" class="nav-btn danger">‚ñ† Stop Bot</button>
                <button id="exportBtn" class="nav-btn muted">üìÇ Export Logs</button>
                <button id="clearBtn" class="nav-btn muted">üßπ Clear Screen</button>
            </nav>

            <button id="report-bug-btn" class="report-btn">üêû Report a Bug</button>

            <section class="changelog-container">
                <h4>Update History</h4>
                <div id="changelog-list" class="changelog-box">
                    <p>Loading updates...</p>
                </div>
            </section>
        </aside>

        <main class="content">
            <header class="topbar">
                <div id="statusIndicator" class="status-idle">Status: <span>Idle</span></div>
                <button id="themeToggleBtn" class="theme-toggle" type="button" aria-label="Switch to dark mode">üåô</button>
            </header>

            <section id="terminal" class="terminal-box" aria-label="bot terminal logs">
                <div class="log-line system">Starting Up...</div>
            </section>
        </main>
    </div>

    <script src="../renderer.js"></script>
    <script>
        const themeStylesheet = document.getElementById('themeStylesheet');
        const themeToggleBtn = document.getElementById('themeToggleBtn');
        const themeStorageKey = 'genbot-theme';

        function applyTheme(theme) {
            const isDark = theme === 'dark';
            themeStylesheet.setAttribute('href', isDark ? 'styledark.css' : 'stylelight.css');
            themeToggleBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            themeToggleBtn.setAttribute('aria-label', isDark ? 'Switch to light mode' : 'Switch to dark mode');
        }

        const savedTheme = localStorage.getItem(themeStorageKey);
        const initialTheme = savedTheme === 'dark' ? 'dark' : 'light';
        applyTheme(initialTheme);

        themeToggleBtn.addEventListener('click', () => {
            const currentTheme = themeStylesheet.getAttribute('href') === 'styledark.css' ? 'dark' : 'light';
            const nextTheme = currentTheme === 'dark' ? 'light' : 'dark';
            localStorage.setItem(themeStorageKey, nextTheme);
            applyTheme(nextTheme);
        });
    </script>
</body>
</html>
